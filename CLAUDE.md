# CLAUDE.md

This file provides guidance to Claude Code (claude.ai/code) when working with code in this repository.

## 프로젝트 개요

꼬꼬 - 관리자(선우)가 선택한 이미지를 표시하고, 방문자가 좋아요를 누를 수 있는 웹 애플리케이션

## 기술 스택

- React 19 + TypeScript + Vite (rolldown-vite)
- Tailwind CSS v4 + shadcn/ui
- React Router v7
- Supabase (Auth, Database, Storage)
- Hugging Face API (AI 이미지 생성)

## 개발 명령어

```bash
pnpm dev      # 개발 서버 시작
pnpm build    # 프로덕션 빌드
pnpm lint     # ESLint 실행
pnpm preview  # 빌드 결과 미리보기
```

## 아키텍처

```
src/
├── components/
│   ├── ui/        # shadcn/ui 기본 컴포넌트
│   ├── layout/    # 레이아웃 컴포넌트
│   ├── auth/      # 인증 컴포넌트 (LoginForm, ProtectedRoute)
│   ├── image/     # ImageCard, LikeAnimation (더블탭 좋아요)
│   └── admin/     # 관리자 컴포넌트 (ImageUploader, ImageManager, LikeChart, AIGenerator)
├── hooks/         # 커스텀 훅 (useAuth, useLikes, useLikeLimit, useImages, useStats, useAIGeneration)
├── services/      # API 서비스 (likeService, imageService, statsService, aiService)
├── utils/         # 유틸리티 함수 (visitor ID)
├── constants/     # KKOKKO 키워드 등 상수
├── types/         # TypeScript 타입 정의
├── pages/         # 페이지 컴포넌트
├── lib/           # 유틸리티 (cn 함수, supabase 클라이언트, huggingface 클라이언트)
└── App.tsx        # 라우터 설정

supabase/
├── schema.sql     # 테이블 스키마
├── rls.sql        # RLS 정책
└── functions.sql  # DB 함수 (add_like 등)
```

## 핵심 상수

`KKOKKO` 상수를 통해 브랜딩 관련 값을 관리 (src/constants/app.ts):
- `KKOKKO.NAME`, `KKOKKO.TITLE` - 앱 이름
- `LIKE_LIMITS.COOLDOWN_MINUTES` - 좋아요 쿨다운 (10분)

## Slash Commands

`.claude/commands/` 폴더에 17개의 슬래시 커맨드가 있음. TASK.md 참조.

## 작업 규칙

1. **작업 완료 후 초기화**: 한 번 작업을 완료할 때마다 `/compact`로 컨텍스트를 초기화하고, `/init`으로 TASK.md를 업데이트할 것

2. **오버엔지니어링 금지**: 요청된 것만 구현하고, 불필요한 추상화나 미래를 위한 설계를 하지 말 것

3. **커밋 메시지 규칙**: 커밋 로그에 AI 관련 메시지(Generated by AI, Co-Authored-By: Claude 등)를 언급하거나 기록하지 말 것

4. **작업 시작 시 Sub Agent 활용**: 작업을 시작할 때 어떤 sub agent가 필요할지 먼저 분석하고, 적절한 sub agent를 병렬로 실행하여 효율적으로 작업을 수행할 것. 사용자에게 어떤 sub agent가 필요한지 제안하고 확인받을 것

5. **MCP 최대 활용**: 연결된 MCP 도구(filesystem, playwright, context7, sequential-thinking, 21st-dev 등)를 최대한 활용할 것
